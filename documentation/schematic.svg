<!-- filepath: c:\Users\aperico\Desktop\workspace\deskautomation\documentation\schematic.svg -->
<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="900" viewBox="0 0 1400 900">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#000" />
    </marker>
  </defs>
  
  <style>
    .box { fill: #fff; stroke: #333; stroke-width: 2; }
    .component { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
    .power { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
    .label { font: bold 16px sans-serif; fill: #000; }
    .pin { font: 12px monospace; fill: #000; }
    .wire { stroke: #000; stroke-width: 2; fill: none; }
    .power-wire { stroke: #d32f2f; stroke-width: 3; fill: none; }
    .signal-wire { stroke: #1976d2; stroke-width: 2; fill: none; }
    .gnd-wire { stroke: #424242; stroke-width: 2; fill: none; }
    .note { font: 11px sans-serif; fill: #666; }
    .warning { fill: #fff8e1; stroke: #f57c00; stroke-width: 2; }
  </style>

  <!-- Title -->
  <text x="700" y="35" text-anchor="middle" font-size="24" font-weight="bold" fill="#1976d2">
    Desk Automation - Hardware Schematic (External Power Supply)
  </text>

  <!-- Arduino UNO -->
  <rect x="80" y="150" width="280" height="420" class="component" rx="8"/>
  <text x="220" y="185" text-anchor="middle" class="label">Arduino UNO</text>
  
  <!-- Arduino pins (left side inputs) -->
  <circle cx="80" cy="220" r="4" fill="#000"/>
  <text x="90" y="223" class="pin">PIN 2 (BTN_DOWN)</text>
  
  <circle cx="80" cy="250" r="4" fill="#000"/>
  <text x="90" y="253" class="pin">PIN 3 (BTN_UP)</text>
  
  <!-- Arduino pins (right side outputs) -->
  <circle cx="360" cy="220" r="4" fill="#000"/>
  <text x="270" y="223" class="pin">PIN 4 (LED_RIGHT)</text>
  
  <circle cx="360" cy="250" r="4" fill="#000"/>
  <text x="270" y="253" class="pin">PIN 5 (LED_LEFT)</text>
  
  <circle cx="360" cy="300" r="4" fill="#000"/>
  <text x="250" y="303" class="pin">PIN 8 (MOTOR_IN1)</text>
  
  <circle cx="360" cy="330" r="4" fill="#000"/>
  <text x="250" y="333" class="pin">PIN 9 (MOTOR_IN2)</text>
  
  <circle cx="360" cy="360" r="4" fill="#000"/>
  <text x="245" y="363" class="pin">PIN 10 (MOTOR_ENA)</text>
  
  <circle cx="360" cy="410" r="4" fill="#000"/>
  <text x="255" y="413" class="pin">PIN 13 (ERROR_LED)</text>
  
  <!-- Arduino power pins (bottom) -->
  <circle cx="180" cy="570" r="4" fill="#d32f2f"/>
  <text x="190" y="573" class="pin">VIN (9-12V)</text>
  
  <circle cx="260" cy="570" r="4" fill="#424242"/>
  <text x="270" y="573" class="pin">GND</text>

  <!-- Buttons (top left) -->
  <rect x="80" y="40" width="200" height="80" class="box" rx="8"/>
  <text x="180" y="65" text-anchor="middle" class="label">Control Buttons</text>
  <circle cx="280" cy="85" r="4" fill="#000"/>
  <text x="110" y="88" class="pin">UP (NO)</text>
  <circle cx="280" cy="105" r="4" fill="#000"/>
  <text x="100" y="108" class="pin">DOWN (NO)</text>

  <!-- Button wiring (vertical drop, no crossing) -->
  <path d="M280 85 L320 85 L320 250 L360 250" class="signal-wire"/>
  <path d="M280 105 L300 105 L300 220 L360 220" class="signal-wire"/>

  <!-- LEDs (top right) -->
  <rect x="900" y="40" width="280" height="160" class="box" rx="8"/>
  <text x="1040" y="70" text-anchor="middle" class="label">Indicator LEDs</text>
  <circle cx="900" cy="100" r="4" fill="#000"/>
  <text x="920" y="103" class="pin">LED_LEFT (+ 330Ω res)</text>
  <circle cx="900" cy="130" r="4" fill="#000"/>
  <text x="920" y="133" class="pin">LED_RIGHT (+ 330Ω res)</text>
  <circle cx="900" cy="170" r="4" fill="#000"/>
  <text x="920" y="173" class="pin">ERROR_LED</text>

  <!-- LED wiring (routed above Arduino, no crossing) -->
  <path d="M360 250 L800 250 L800 100 L900 100" class="signal-wire"/>
  <path d="M360 220 L820 220 L820 130 L900 130" class="signal-wire"/>
  <path d="M360 410 L840 410 L840 170 L900 170" class="signal-wire"/>

  <!-- L298N Motor Driver (center) -->
  <rect x="500" y="280" width="280" height="260" class="component" rx="8"/>
  <text x="640" y="315" text-anchor="middle" class="label">L298N Motor Driver</text>
  
  <circle cx="500" cy="350" r="4" fill="#000"/>
  <text x="510" y="353" class="pin">IN1</text>
  
  <circle cx="500" cy="380" r="4" fill="#000"/>
  <text x="510" y="383" class="pin">IN2</text>
  
  <circle cx="500" cy="410" r="4" fill="#000"/>
  <text x="510" y="413" class="pin">ENA (PWM)</text>
  
  <circle cx="500" cy="470" r="4" fill="#000"/>
  <text x="510" y="473" class="pin">Vmotor (9-12V)</text>
  
  <circle cx="640" cy="540" r="4" fill="#424242"/>
  <text x="650" y="543" class="pin">GND</text>
  
  <circle cx="780" cy="380" r="4" fill="#000"/>
  <text x="700" y="383" class="pin">OUT1</text>
  
  <circle cx="780" cy="410" r="4" fill="#000"/>
  <text x="700" y="413" class="pin">OUT2</text>

  <!-- Motor Control Signals (Arduino to L298N - routed cleanly) -->
  <path d="M360 300 L500 350" class="signal-wire" marker-end="url(#arrowhead)"/>
  <text x="420" y="320" class="note">IN1</text>
  
  <path d="M360 330 L500 380" class="signal-wire" marker-end="url(#arrowhead)"/>
  <text x="420" y="350" class="note">IN2</text>
  
  <path d="M360 360 L500 410" class="signal-wire" marker-end="url(#arrowhead)"/>
  <text x="420" y="380" class="note">ENA</text>

  <!-- DC Motor (right side) -->
  <rect x="900" y="330" width="220" height="130" class="component" rx="8"/>
  <text x="1010" y="365" text-anchor="middle" class="label">JGY370 Motor</text>
  <text x="1010" y="390" text-anchor="middle" class="note">(12V DC + Gearbox)</text>
  
  <circle cx="900" cy="405" r="4" fill="#000"/>
  <text x="920" y="408" class="pin">Terminal 1</text>
  
  <circle cx="900" cy="435" r="4" fill="#000"/>
  <text x="920" y="438" class="pin">Terminal 2</text>

  <!-- Motor connections (horizontal from L298N) -->
  <path d="M780 380 L850 380 L850 405 L900 405" class="power-wire"/>
  <path d="M780 410 L870 410 L870 435 L900 435" class="power-wire"/>

  <!-- 12V DC Power Supply (bottom left) -->
  <rect x="80" y="680" width="240" height="120" class="power" rx="8"/>
  <text x="200" y="715" text-anchor="middle" class="label">12V DC Supply</text>
  <text x="200" y="740" text-anchor="middle" class="note">(2A minimum)</text>
  <text x="200" y="760" text-anchor="middle" class="note">Wall Adapter</text>
  <circle cx="140" cy="680" r="5" fill="#d32f2f"/>
  <text x="150" y="675" class="pin" font-weight="bold">+12V</text>
  <circle cx="260" cy="680" r="5" fill="#424242"/>
  <text x="270" y="675" class="pin" font-weight="bold">GND</text>

  <!-- ON/OFF Switch (bottom center) -->
  <rect x="420" y="680" width="140" height="120" class="power" rx="8"/>
  <text x="490" y="720" text-anchor="middle" class="label">Power Switch</text>
  <text x="490" y="745" text-anchor="middle" class="note">ON/OFF</text>
  <circle cx="420" cy="710" r="4" fill="#000"/>
  <circle cx="560" cy="710" r="4" fill="#000"/>
  
  <!-- Fuse symbol -->
  <rect x="340" y="655" width="60" height="30" fill="none" stroke="#d32f2f" stroke-width="2" rx="4"/>
  <text x="370" y="675" text-anchor="middle" class="note" fill="#d32f2f" font-weight="bold">FUSE</text>
  <text x="370" y="690" text-anchor="middle" class="note" fill="#d32f2f">2-3A</text>

  <!-- Power routing: Supply → Fuse → Switch → Split to Arduino VIN + L298N Vmotor -->
  <path d="M140 680 L140 670 L340 670" class="power-wire"/>
  <path d="M400 670 L420 710" class="power-wire"/>
  
  <!-- From switch to Arduino VIN (route along bottom, then up) -->
  <path d="M560 710 L650 710 L650 620 L180 620 L180 570" class="power-wire" marker-end="url(#arrowhead)"/>
  <text x="620" y="640" class="note" fill="#d32f2f">to VIN</text>
  
  <!-- From switch to L298N Vmotor (route along bottom, then up) -->
  <path d="M560 710 L650 710 L650 600 L470 600 L470 470 L500 470" class="power-wire" marker-end="url(#arrowhead)"/>
  <text x="480" y="520" class="note" fill="#d32f2f">to Vmotor</text>

  <!-- Ground connections (single bus at bottom) -->
  <path d="M260 680 L260 760 L640 760" class="gnd-wire" stroke-width="4"/>
  <path d="M260 760 L260 620 L260 570" class="gnd-wire"/>
  <path d="M640 760 L640 540" class="gnd-wire"/>
  <text x="400" y="780" class="note" font-weight="bold">Common Ground Bus</text>

  <!-- Warning box -->
  <rect x="50" y="830" width="1300" height="60" class="warning" rx="8"/>
  <text x="70" y="855" font-size="14" font-weight="bold" fill="#d32f2f">⚠️ CRITICAL SAFETY:</text>
  <text x="70" y="875" class="note">1. Common GND: Arduino + L298N + Power Supply negative MUST be connected</text>
  <text x="600" y="875" class="note">2. Use 12V 2A+ wall adapter (not USB power)</text>
  <text x="1050" y="875" class="note">3. Add 2-3A fuse</text>

</svg>